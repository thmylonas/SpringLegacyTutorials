Old/Deprecated/Wrong API
============================

Notes:
- The next classes are part of a different old project.
- These are my first tries to develop an API.
- All the next code is completely wrong (found/copied by Googling)

/**
 * An Old-times Model: The code is all wrong (found/copied by Googling)
 */
@lombok.Getter @lombok.Setter @lombok.NoArgsConstructor @lombok.AllArgsConstructor @lombok.ToString
@com.fasterxml.jackson.annotation.JsonPropertyOrder({"id", "category", "lastName", "firstName", "photoUrls", "tags", "status"})
public class StudentModel {

    private Long id;
    private Category category;
    private String lastName;
    private String firstName;
    private List<String> photoUrls;
    private List<HTML.Tag> tags;
    private String status;

    public StudentModel(Student student) {
        this.id = student.getId();
        this.lastName = student.getLastName();
        this.firstName = student.getFirstName();
        this.category = student.getCategory();
        this.tags = student.getTags();
        photoUrls = new ArrayList<>();
        for (int i = 0; i < student.getPhotoUrls().size(); i++) {
            photoUrls.add(student.getPhotoUrls().get(i).getName());
        }
    }
}

/**
 * An Old-times interface Controller: The code is all wrong (found/copied by Googling)
 */
public interface EntityController<T, TModel> {

    /**
     * It returns the Entity, with the given in the parameter id
     *
     * @param id The @PathVariable of the request
     * @return The ResponseEntity of the request
     * @throws IllegalArgumentException           If the argument is invalid (e.g. negative id)
     * @throws RequestedResourceNotFoundException If the resource is not found
     */
    org.springframework.http.ResponseEntity<TModel> getById(Long id);

    /**
     * It returns the list of all Entities
     *
     * @return The list of all Entities
     */
    List<T> getAll();

    /**
     * It saves a new Entity and its dependent Entities, and the Exceptions thrown are handled
     * in the "ExceptionsHandlerController"
     *
     * @param entityModel The @RequestBody of the request
     * @param ucb         The org.springframework.web.util.UriComponentsBuilder
     * @return The ResponseEntity of the request
     * @throws org.springframework.http.converter.HttpMessageNotReadableException If RequestBody is not like "TModel", but like other models
     * @throws org.springframework.web.HttpMediaTypeNotSupportedException         Thrown runtime, if RequestBody is null or not valid JSON
     */
    org.springframework.http.ResponseEntity<T> save(TModel entityModel, org.springframework.web.util.UriComponentsBuilder ucb) throws org.springframework.http.converter.HttpMessageNotReadableException, org.springframework.web.HttpMediaTypeNotSupportedException;

    /**
     * It updates an existing Entity and its dependent Entities, with the given in the parameter Entity,
     * with the same id, and the Exceptions thrown are handled in the "ExceptionsHandlerController"
     *
     * @param entityModel The @RequestBody of the request
     * @return The ResponseEntity of the request
     * @throws IllegalArgumentException           If the argument is invalid (e.g. negative id)
     * @throws RequestedResourceNotFoundException If the resource to be updated is not found
     * @throws Exception                          405: Validation exception // Not implemented
     */
    org.springframework.http.ResponseEntity<T> update(TModel entityModel);

    /**
     * It deletes the Entity, with the given in the parameter id
     *
     * @param id The @PathVariable of the request
     * @return The ResponseEntity<SuccessStatus>
     * @throws IllegalArgumentException           If the argument is invalid (e.g. negative id)
     * @throws RequestedResourceNotFoundException If the resource to be deleted is not found
     */
    org.springframework.http.ResponseEntity<ResponseSuccess> delete(Long id);
}

/**
 * An Old-times Controller: The code is all wrong (found/copied by Googling)
 */
@org.springframework.web.bind.annotation.RestController
@org.springframework.web.bind.annotation.RequestMapping(value = "/api/v1/students")
public class StudentController {

    private final StudentDao studentDao;

    @org.springframework.beans.factory.annotation.Autowired
    public StudentController(StudentDao studentDao) {
        this.studentDao = studentDao;
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/findByStatus") // Where the status comes from?
    public List<Student> getAllStudentsByStatus(Status[] status) {
        return studentDao.findAllStudentsByStatus(status);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public int postStudent(@org.springframework.web.bind.annotation.RequestBody Student student) {
        studentDao.save(student);
        return 405;
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{studentId}")
    public org.springframework.http.ResponseEntity<Student> studentById1(@org.springframework.web.bind.annotation.PathVariable("studentId") long id) {
        Student student = studentDao.findById(id);
        org.springframework.http.HttpStatus status = student != null ? org.springframework.http.HttpStatus.OK : org.springframework.http.HttpStatus.NOT_FOUND;
        return new org.springframework.http.ResponseEntity<>(student, status);
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{studentId}")
    public org.springframework.http.ResponseEntity<?> studentById2(@org.springframework.web.bind.annotation.PathVariable("studentId") long id) {

        Student student = studentDao.findById(id);
        if (student == null) {
            ResponseError error = new ResponseError(404, "Student[" + id + "] not found", "");
            return new org.springframework.http.ResponseEntity<>(error, org.springframework.http.HttpStatus.NOT_FOUND);
        }
        return new org.springframework.http.ResponseEntity<>(student, org.springframework.http.HttpStatus.OK); // HTTP Status Code 200
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{studentId}")
    public org.springframework.http.ResponseEntity<Student> studentById3(@org.springframework.web.bind.annotation.PathVariable("studentId") long id) {

        Student student = studentDao.findById(id);
        if (student == null) {
            throw new RequestedResourceNotFoundException(id, "The resource not found!");
        }
        return new org.springframework.http.ResponseEntity<>(student, org.springframework.http.HttpStatus.OK); // HTTP Status Code 200
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{studentId}")
    public Student studentById4(@org.springframework.web.bind.annotation.PathVariable("studentId") long id) {

        Student student = studentDao.findById(id);
        if (student == null) {
            throw new RequestedResourceNotFoundException(id, "The resource not found!");
        }
        return student;
    }

    @org.springframework.web.bind.annotation.PostMapping
    @org.springframework.web.bind.annotation.ResponseStatus(org.springframework.http.HttpStatus.CREATED) // HTTP Status Code 201
    public Student saveStudent1(@org.springframework.web.bind.annotation.RequestBody Student student) {
        return studentDao.save(student);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public org.springframework.http.ResponseEntity<Student> saveStudent2(@org.springframework.web.bind.annotation.RequestBody Student student) {
        Student studentResponse = studentDao.save(student);
        org.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();
        // The following URL is hardcoded
        URI locationUri = URI.create("http://localhost:8080/api/v1/students/" + studentResponse.getId());
        headers.setLocation(locationUri); // Set the  location header
        return new org.springframework.http.ResponseEntity<Student>(studentResponse, headers, org.springframework.http.HttpStatus.CREATED);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public org.springframework.http.ResponseEntity<Student> saveStudent3(@org.springframework.web.bind.annotation.RequestBody Student student, org.springframework.web.util.UriComponentsBuilder ucb) {
        // Given a UriComponentsBuilder
        Student studentResponse = studentDao.save(student);
        org.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();
        // Calculate  the  location  URI
        URI locationUri = ucb.path("/api/v1/students/").path(String.valueOf(studentResponse.getId())).build().toUri();
        headers.setLocation(locationUri); // Set the  location header
        return new org.springframework.http.ResponseEntity<Student>(studentResponse, headers, org.springframework.http.HttpStatus.CREATED);
    }

    @org.springframework.web.bind.annotation.ExceptionHandler(RequestedResourceNotFoundException.class)
    public org.springframework.http.ResponseEntity<ResponseError> resourceNotFound1(RequestedResourceNotFoundException e) {
        long id = e.getResourceId();
        ResponseError responseError = new ResponseError(404, "Student[" + id + "] not found", "");
        return new org.springframework.http.ResponseEntity<>(responseError, org.springframework.http.HttpStatus.NOT_FOUND); // HTTP Status Code 404
    }

    @org.springframework.web.bind.annotation.ExceptionHandler(RequestedResourceNotFoundException.class)
    @org.springframework.web.bind.annotation.ResponseStatus(org.springframework.http.HttpStatus.NOT_FOUND) // HTTP Status Code 404
    public ResponseError resourceNotFound2(RequestedResourceNotFoundException e) {
        long id = e.getResourceId();
        return new ResponseError(404, "Student[" + id + "] not found", "");
    }
    // HTTP Status Code 409
}

@lombok.extern.slf4j.Slf4j
public abstract class AbstractController implements org.springframework.web.servlet.config.annotation.WebMvcConfigurer {
    public void setResponseStatus(ResponseSuccess responseSuccess, Exception e, org.springframework.http.HttpStatus httpStatus, String message) {
        responseSuccess.setResponseDescription(httpStatus.toString() + ": " + message);
        String responseDescription = responseSuccess.getResponseDescription();
        responseSuccess.setResponseDescription(Integer.parseInt(responseDescription.split(" ")[0]));
        responseSuccess.setResponseCode(Integer.parseInt(responseDescription.substring(0, responseDescription.indexOf(" "))));
        responseSuccess.setResponseMessage(message);
        responseSuccess.setResponseMessage(new ResponseEntity<>(e, httpStatus).getBody().getMessage());
        log.info(responseDescription);
    }

    public void configureDefaultServletHandling(org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer configurer) {
        configurer.enable();
    }
}
