**
 * An Old-times Model: The code is all wrong (found/copied by Googling)
 */
@lombok.Getter @lombok.Setter @lombok.NoArgsConstructor @lombok.AllArgsConstructor @lombok.ToString
@com.fasterxml.jackson.annotation.JsonPropertyOrder({"id", "category", "name", "photoUrls", "tags", "status"})
public class PetModel {

    private Long id;
    private Category category;
    private String name;
    private List<String> photoUrls;
    private List<Tag> tags;
    private String status;

    public PetModel(Pet pet) {
        this.id = pet.getId();
        this.name = pet.getName();
        this.category = pet.getCategory();
        this.tags = pet.getTags();
        photoUrls = new ArrayList<>();
        for (int i = 0; i < pet.getPhotoUrls().size(); i++) {
            photoUrls.add(pet.getPhotoUrls().get(i).getName());
        }
    }
}

/**
 * An Old-times interface Controller: The code is all wrong (found/copied by Googling)
 */
public interface EntityController<T, TModel> {

    /**
     * It returns the Entity, with the given in the parameter id
     *
     * @param id The @PathVariable of the request
     * @return The ResponseEntity of the request
     * @throws InvalidInputSuppliedException      If the input is invalid (e.g. negative id)
     * @throws RequestedResourceNotFoundException If the resource is not found
     */
    org.springframework.http.ResponseEntity<TModel> getById(Long id);

    /**
     * It returns the list of all Entities
     *
     * @return The list of all Entities
     */
    List<T> getAll();

    /**
     * It saves a new Entity and its dependent Entities, and the Exceptions thrown are handled
     * in the "ExceptionsHandlerController"
     *
     * @param entityModel The @RequestBody of the request
     * @param ucb         The org.springframework.web.util.UriComponentsBuilder
     * @return The ResponseEntity of the request
     * @throws org.springframework.http.converter.HttpMessageNotReadableException If RequestBody is not like "TModel", but like other models
     * @throws org.springframework.web.HttpMediaTypeNotSupportedException         Thrown runtime, if RequestBody is null or not valid JSON
     */
    org.springframework.http.ResponseEntity<T> save(TModel entityModel, org.springframework.web.util.UriComponentsBuilder ucb) throws org.springframework.http.converter.HttpMessageNotReadableException, org.springframework.web.HttpMediaTypeNotSupportedException;

    /**
     * It updates an existing Entity and its dependent Entities, with the given in the parameter Entity,
     * with the same id, and the Exceptions thrown are handled in the "ExceptionsHandlerController"
     *
     * @param entityModel The @RequestBody of the request
     * @return The ResponseEntity of the request
     * @throws InvalidInputSuppliedException      If the input is invalid (eg. negative id)
     * @throws RequestedResourceNotFoundException If the resource to be updated is not found
     * @throws Exception                          405: Validation exception // Not implemented
     */
    org.springframework.http.ResponseEntity<T> update(TModel entityModel);

    /**
     * It deletes the Entity, with the given in the parameter id
     *
     * @param id The @PathVariable of the request
     * @return The ResponseEntity<SuccessStatus>
     * @throws InvalidInputSuppliedException      If the input is invalid (eg. negative id)
     * @throws RequestedResourceNotFoundException If the resource to be deleted is not found
     */
    org.springframework.http.ResponseEntity<SuccessStatus> delete(Long id);
}

/**
 * An Old-times Controller: The code is all wrong (found/copied by Googling)
 */
@org.springframework.web.bind.annotation.RestController
@org.springframework.web.bind.annotation.RequestMapping(value = "/pet")
public class PetController {

    private final PetRepository petRepository;

    @org.springframework.beans.factory.annotation.Autowired
    public PetController(PetRepository petRepository) {
        this.petRepository = petRepository;
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/findByStatus") // Where the status comes from?
    public List<Pet> getAllPetsByStatus(EnumStatus[] status) {
        return petRepository.findAllPetsByStatus(status);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public int postPet(@org.springframework.web.bind.annotation.RequestBody Pet pet) {
        petRepository.save(pet);
        return 405;
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{petId}")
    public org.springframework.http.ResponseEntity<Pet> petById1(@org.springframework.web.bind.annotation.PathVariable("petId") long id) {
        Pet pet = petRepository.findById(id).orElse(null);
        org.springframework.http.HttpStatus status = pet != null ? org.springframework.http.HttpStatus.OK : org.springframework.http.HttpStatus.NOT_FOUND;
        return new org.springframework.http.ResponseEntity<Pet>(pet, status);
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{petId}")
    public org.springframework.http.ResponseEntity<?> petById2(@org.springframework.web.bind.annotation.PathVariable("petId") long id) {

        Pet pet = petRepository.findById(id).orElse(null);
        if (pet == null) {
            ErrorStatus error = new ErrorStatus(); // new ErrorStatus(404, "Pet[" + id + "] not found", "");
            return new org.springframework.http.ResponseEntity<ErrorStatus>(error, org.springframework.http.HttpStatus.NOT_FOUND);
        }
        return new org.springframework.http.ResponseEntity<Pet>(pet, org.springframework.http.HttpStatus.OK); // HTTP Status Code 200
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{petId}")
    public org.springframework.http.ResponseEntity<Pet> petById3(@org.springframework.web.bind.annotation.PathVariable("petId") long id) {

        Pet pet = petRepository.findById(id).orElse(null);
        if (pet == null) {
            throw new RequestedResourceNotFoundException(id, "The resource not found!");
        }
        return new org.springframework.http.ResponseEntity<Pet>(pet, org.springframework.http.HttpStatus.OK); // HTTP Status Code 200
    }

    @org.springframework.web.bind.annotation.GetMapping(value = "/{petId}")
    public Pet petById4(@org.springframework.web.bind.annotation.PathVariable("petId") long id) {

        Pet pet = petRepository.findById(id).orElse(null);
        if (pet == null) {
            throw new RequestedResourceNotFoundException(id, "The resource not found!");
        }
        return pet;
    }

    @org.springframework.web.bind.annotation.PostMapping
    @org.springframework.web.bind.annotation.ResponseStatus(org.springframework.http.HttpStatus.CREATED) // HTTP Status Code 201
    public Pet savePet1(@org.springframework.web.bind.annotation.RequestBody Pet pet) {
        return petRepository.save(pet);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public org.springframework.http.ResponseEntity<Pet> savePet2(@org.springframework.web.bind.annotation.RequestBody Pet pet) {
        Pet petResponse = petRepository.save(pet);
        org.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();
        // The following URL is hardcoded
        URI locationUri = URI.create("http://localhost:8080/app_name/pet/" + petResponse.getId());
        headers.setLocation(locationUri); // Set the  location header
        return new org.springframework.http.ResponseEntity<Pet>(petResponse, headers, org.springframework.http.HttpStatus.CREATED);
    }

    @org.springframework.web.bind.annotation.PostMapping
    public org.springframework.http.ResponseEntity<Pet> savePet3(@org.springframework.web.bind.annotation.RequestBody Pet pet, org.springframework.web.util.UriComponentsBuilder ucb) {
        // Given a UriComponentsBuilder
        Pet petResponse = petRepository.save(pet);
        org.springframework.http.HttpHeaders headers = new org.springframework.http.HttpHeaders();
        // Calculate  the  location  URI
        URI locationUri = ucb.path("/pet/").path(String.valueOf(petResponse.getId())).build().toUri();
        headers.setLocation(locationUri); // Set the  location header
        return new org.springframework.http.ResponseEntity<Pet>(petResponse, headers, org.springframework.http.HttpStatus.CREATED);
    }

    @org.springframework.web.bind.annotation.ExceptionHandler(RequestedResourceNotFoundException.class)
    public org.springframework.http.ResponseEntity<ErrorStatus> resourceNotFound1(RequestedResourceNotFoundException e) {
        long id = e.getResourceId();
        ErrorStatus error = new ErrorStatus(); // new ErrorStatus(404, "Pet[" + id + "] not found", "");
        return new org.springframework.http.ResponseEntity<ErrorStatus>(error, org.springframework.http.HttpStatus.NOT_FOUND); // HTTP Status Code 404
    }

    @org.springframework.web.bind.annotation.ExceptionHandler(RequestedResourceNotFoundException.class)
    @org.springframework.web.bind.annotation.ResponseStatus(org.springframework.http.HttpStatus.NOT_FOUND)// HTTP Status Code 404
    public ErrorStatus resourceNotFound2(RequestedResourceNotFoundException e) {
        long id = e.getResourceId();
        return new ErrorStatus(); // new ErrorStatus(404, "Pet[" + id + "] not found", "");
    }
    // HTTP Status Code 409
}

@lombok.extern.slf4j.Slf4j
public abstract class AbstractController implements org.springframework.web.servlet.config.annotation.WebMvcConfigurer {
    public void setResponseStatus(ServerResponseStatus responseStatus, Exception e, org.springframework.http.HttpStatus httpStatus, String message) {
        responseStatus.setResponseDescription(httpStatus.toString() + ": " + message);
        String responseDescription = responseStatus.getResponseDescription();
        // responseStatus.setResponseDescription(Integer.parseInt(responseDescription.split(" ")[0]));
        responseStatus.setResponseCode(Integer.parseInt(responseDescription.substring(0, responseDescription.indexOf(" "))));
        responseStatus.setResponseMessage(message);
        //responseStatus.setResponseMessage(new ResponseEntity<>(e, httpStatus).getBody().getMessage());
        log.info(responseDescription);
    }

    public void configureDefaultServletHandling(org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer configurer) {
        configurer.enable();
    }
}
